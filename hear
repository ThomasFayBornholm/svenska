<!DOCTYPE html>
<head>
	<meta char="UTF-8" name="viewport" content="width=device-width, initial-scale=1">
	<title>Hear</title>
	<link rel="stylesheet" href="svenska.css">
	
	<script src="jquery-3.4.1.min.js"></script>	
	
</head>
<body onload="init()">
<div class="row columns_4" style="width: 400px">	
	<div class="column" style="margin-right: 20px">
		<button id="btn1" class="b2" onclick="play1()">Ful / Full</button>		
		<p><audio id="iFul" controls>
			<source  src="sounds/ful.mp3" type="audio/mpeg">
			Your browser does not support the audio element.
		</audio></p>
		<p><audio id="iFull">
			<source src="sounds/full.mp3" type="audio/mpeg">
			Your browser does not support the audio element.
		</audio></p>
	</div>
	<div class="column" style="margin-right: 20px">
		<button id="btn2" class="b2" onclick="play2()">Glas / Glass</button>
		<p><audio id="iGlas" controls>
			<source src="sounds/glas.mp3" type="audio/mpeg">
			Your browser does not support the audio element.
		</audio></p>
		<p><audio id="iGlass">
			<source src="sounds/glass.mp3" type="audio/mpeg">
			Your browser does not support the audio element.
		</audio></p>
		<label for="iLoop">Loop forever</label>
		<input id="iLoop" type="checkbox" class="b2" >		
	</div>
</div>
</audio><br>
</div>
<script>
var LOOP = false;
function init() {
	size = "200px"
	$('#btn1').css("width", size)
	$('#btn2').css("width", size)
	var a1 = document.getElementById("iFul");
	a1.addEventListener("timeupdate", function() {
		if (a1.currentTime > 0.7) {
			playFull()
		}
	})
	var a2 = document.getElementById("iFull");
	a2.addEventListener("ended", function() {		
		if (LOOP) {
			play1();
		}
	})			
	var a3 = document.getElementById("iGlas");
	a3.addEventListener("timeupdate", function() {
		if (a3.currentTime > 0.8) {
			playGlass();
		}
	})		
	var a4 = document.getElementById("iGlass");
	a4.addEventListener("ended", function() {
		if (LOOP) {
			play2();
		}
	})	
	$('#iLoop').on("change",function() {
		toggleChecked(this);
	});
	$('#iLoop').prop('checked',false);
}
function play1() {
	var a = document.getElementById("iFul");
	a.play()
}
function playFull() {
	var a = document.getElementById("iFull");
	a.play()
}
function play2() {
	var a = document.getElementById("iGlas");
	a.play()
}
function playGlass() {
	var a = document.getElementById("iGlass");
	a.play()
}
function toggleChecked(el) {
	if (el.checked === true) {
		LOOP = true;
	} else {
		LOOP = false;
	}
}
</script>
</body>
</html>
